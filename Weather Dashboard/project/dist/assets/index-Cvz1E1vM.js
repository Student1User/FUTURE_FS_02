import{r as e,a as t,m as s,A as a}from"./vendor-CHwxU5m0.js";import{a as r,f as i,b as l}from"./utils-D4Xn-bKW.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var o={exports:{}},n={},c=e,d=Symbol.for("react.element"),m=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,p=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function y(e,t,s){var a,r={},i=null,l=null;for(a in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(l=t.ref),t)h.call(t,a)&&!x.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:d,type:e,key:i,ref:l,props:r,_owner:p.current}}n.Fragment=m,n.jsx=y,n.jsxs=y,o.exports=n;var u,g=o.exports,f=t;u=f.createRoot,f.hydrateRoot;
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=(t,s)=>{const a=e.forwardRef((({color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:n,...c},d)=>{return e.createElement("svg",{ref:d,...j,width:r,height:r,stroke:a,strokeWidth:l?24*Number(i)/Number(r):i,className:["lucide",`lucide-${m=t,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,o].join(" "),...c},[...s.map((([t,s])=>e.createElement(t,s))),...Array.isArray(n)?n:[n]]);var m}));return a.displayName=`${t}`,a},b=w("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),v=w("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),N=w("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),k=w("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),z=w("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),S=w("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),M=w("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),C=w("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),E=w("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),L=w("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),O=w("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),_=w("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),F=w("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),$=w("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),P=w("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),A=w("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),D=w("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H="",I="https://api.openweathermap.org/data/2.5",R=e=>{var t;if(console.error("API Error:",e),429===(null==(t=e.response)?void 0:t.status))throw new Error("API rate limit exceeded. Please try again later.");throw e},q=(e,t)=>{var s;return(null==(s={Clear:{day:"https://images.pexels.com/photos/912110/pexels-photo-912110.jpeg",night:"https://images.pexels.com/photos/1257860/pexels-photo-1257860.jpeg"},Clouds:{day:"https://images.pexels.com/photos/3560044/pexels-photo-3560044.jpeg",night:"https://images.pexels.com/photos/2885320/pexels-photo-2885320.jpeg"},Rain:{day:"https://images.pexels.com/photos/1463530/pexels-photo-1463530.jpeg",night:"https://images.pexels.com/photos/1906932/pexels-photo-1906932.jpeg"},Drizzle:{day:"https://images.pexels.com/photos/1463530/pexels-photo-1463530.jpeg",night:"https://images.pexels.com/photos/1906932/pexels-photo-1906932.jpeg"},Thunderstorm:{day:"https://images.pexels.com/photos/1162251/pexels-photo-1162251.jpeg",night:"https://images.pexels.com/photos/1162251/pexels-photo-1162251.jpeg"},Snow:{day:"https://images.pexels.com/photos/688660/pexels-photo-688660.jpeg",night:"https://images.pexels.com/photos/773594/pexels-photo-773594.jpeg"},Mist:{day:"https://images.pexels.com/photos/1743392/pexels-photo-1743392.jpeg",night:"https://images.pexels.com/photos/167699/pexels-photo-167699.jpeg"},Fog:{day:"https://images.pexels.com/photos/1743392/pexels-photo-1743392.jpeg",night:"https://images.pexels.com/photos/167699/pexels-photo-167699.jpeg"},Haze:{day:"https://images.pexels.com/photos/1743392/pexels-photo-1743392.jpeg",night:"https://images.pexels.com/photos/167699/pexels-photo-167699.jpeg"}}[e])?void 0:s[t?"day":"night"])||"https://images.pexels.com/photos/1118873/pexels-photo-1118873.jpeg"},T=e=>`${Math.round(e)}¬∞C`,W=(e,t)=>{const s=i(e+t);return l(s,"h:mm a")},Z=(e,t)=>{const s=i(e+t);return l(s,"EEE")},B=(e,t)=>{const s=i(e+t);return l(s,"MMM d")},J=(e,t,s)=>e>=t&&e<=s,V=()=>{const e=localStorage.getItem("searchHistory");return e?JSON.parse(e):[]},U=e=>{const t=V();if(!t.includes(e)){const s=[e,...t].slice(0,5);localStorage.setItem("searchHistory",JSON.stringify(s))}},G=()=>{const e=localStorage.getItem("favorites");return e?JSON.parse(e):[]},K=({onSearch:t,onToggleFavorite:a,currentCity:r,isFavorite:i})=>{const[l,o]=e.useState(""),[n,c]=e.useState(!1),[d,m]=e.useState([]),[h,p]=e.useState([]),x=e.useRef(null);e.useEffect((()=>{m(V()),p(G());const e=e=>{x.current&&!x.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const y=()=>{l.trim()&&(t(l.trim()),c(!1))},u=e=>{o(e),t(e),c(!1)};return g.jsxs("div",{ref:x,className:"relative w-full max-w-md mx-auto",children:[g.jsx(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("input",{type:"text",value:l,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&y()},onFocus:()=>c(!0),placeholder:"Search city...",className:"w-full px-4 py-3 pl-10 pr-24 rounded-lg bg-white/10 backdrop-blur-md border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-400"}),g.jsx(O,{className:"absolute left-3 text-white/60",size:18}),l&&g.jsx("button",{onClick:()=>{o("")},className:"absolute right-20 text-white/60 hover:text-white",children:g.jsx(D,{size:18})}),g.jsx("button",{onClick:y,className:"absolute right-12 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-1",children:g.jsx(O,{size:16})}),r&&g.jsx("button",{onClick:()=>a(r),className:"absolute right-3 text-white/60 hover:text-yellow-400 transition-colors",children:i?g.jsx(E,{className:"fill-yellow-400 text-yellow-400",size:18}):g.jsx(E,{size:18})})]})}),n&&(d.length>0||h.length>0)&&g.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},className:"absolute z-10 mt-1 w-full bg-gray-800/90 backdrop-blur-md rounded-lg shadow-lg border border-gray-700 overflow-hidden",children:[h.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"p-2 text-xs text-gray-400 border-b border-gray-700 flex items-center",children:[g.jsx(E,{size:12,className:"mr-1 fill-yellow-400 text-yellow-400"})," Favorites"]}),g.jsx("ul",{className:"border-b border-gray-700",children:h.map(((e,t)=>g.jsxs("li",{onClick:()=>u(e),className:"px-4 py-2 hover:bg-gray-700/50 cursor-pointer text-white text-sm transition-colors flex items-center",children:[g.jsx(E,{size:12,className:"mr-2 fill-yellow-400 text-yellow-400"}),e]},`fav-${t}`)))})]}),d.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"p-2 text-xs text-gray-400 border-b border-gray-700 flex items-center",children:[g.jsx(k,{size:12,className:"mr-1"})," Recent searches"]}),g.jsx("ul",{children:d.map(((e,t)=>g.jsx("li",{onClick:()=>u(e),className:"px-4 py-2 hover:bg-gray-700/50 cursor-pointer text-white text-sm transition-colors",children:e},`history-${t}`)))})]})]})]})},X=({data:e})=>(J(Math.floor(Date.now()/1e3),e.sys.sunrise,e.sys.sunset),g.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full bg-gray-900/40 backdrop-blur-md rounded-xl overflow-hidden border border-white/10 shadow-xl",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-3xl font-bold text-white",children:[e.name,", ",e.sys.country]}),g.jsx("p",{className:"text-lg text-blue-200 mt-1",children:e.weather[0].description.charAt(0).toUpperCase()+e.weather[0].description.slice(1)})]}),g.jsxs("div",{className:"flex items-center mt-4 md:mt-0",children:[g.jsx("img",{src:`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,alt:e.weather[0].description,className:"w-20 h-20"}),g.jsx("div",{className:"text-5xl font-bold text-white ml-2",children:T(e.main.temp)})]})]}),g.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"bg-white/5 p-3 rounded-lg flex items-center",children:[g.jsx(P,{className:"text-orange-400 mr-2",size:20}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-300",children:"Feels Like"}),g.jsx("p",{className:"text-lg font-semibold text-white",children:T(e.main.feels_like)})]})]}),g.jsxs("div",{className:"bg-white/5 p-3 rounded-lg flex items-center",children:[g.jsx(S,{className:"text-blue-400 mr-2",size:20}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-300",children:"Humidity"}),g.jsxs("p",{className:"text-lg font-semibold text-white",children:[e.main.humidity,"%"]})]})]}),g.jsxs("div",{className:"bg-white/5 p-3 rounded-lg flex items-center",children:[g.jsx(A,{className:"text-teal-400 mr-2",size:20}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-300",children:"Wind"}),g.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(3.6*e.wind.speed)," km/h"]})]})]}),g.jsxs("div",{className:"bg-white/5 p-3 rounded-lg flex items-center",children:[g.jsx(C,{className:"text-purple-400 mr-2",size:20}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-300",children:"Pressure"}),g.jsxs("p",{className:"text-lg font-semibold text-white",children:[e.main.pressure," hPa"]})]})]})]}),g.jsxs("div",{className:"mt-4 flex justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(F,{className:"text-yellow-400 mr-2",size:18}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-300",children:"Sunrise"}),g.jsx("p",{className:"text-sm font-medium text-white",children:W(e.sys.sunrise,e.timezone)})]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx($,{className:"text-orange-400 mr-2",size:18}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-300",children:"Sunset"}),g.jsx("p",{className:"text-sm font-medium text-white",children:W(e.sys.sunset,e.timezone)})]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(M,{className:"text-blue-300 mr-2",size:18}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-300",children:"Visibility"}),g.jsxs("p",{className:"text-sm font-medium text-white",children:[(e.visibility/1e3).toFixed(1)," km"]})]})]})]})]})})),Y=({data:t})=>{const a=e.useRef(null),r=t.list.slice(0,8);return g.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"w-full bg-gray-900/40 backdrop-blur-md rounded-xl overflow-hidden border border-white/10 shadow-xl mt-6",children:g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Hourly Forecast"}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>{a.current&&a.current.scrollBy({left:-200,behavior:"smooth"})},className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-gray-800/80 hover:bg-gray-700/80 text-white rounded-full p-1",children:g.jsx(v,{size:20})}),g.jsx("div",{ref:a,className:"flex overflow-x-auto pb-2 scrollbar-hide space-x-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:r.map(((e,s)=>g.jsxs("div",{className:"flex-shrink-0 bg-white/5 rounded-lg p-3 w-24 flex flex-col items-center",children:[g.jsx("p",{className:"text-sm font-medium text-gray-300",children:W(e.dt,t.city.timezone)}),g.jsx("img",{src:`https://openweathermap.org/img/wn/${e.weather[0].icon}.png`,alt:e.weather[0].description,className:"w-12 h-12 my-1"}),g.jsx("p",{className:"text-lg font-semibold text-white",children:T(e.main.temp)}),g.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[Math.round(100*e.pop),"% ",g.jsx("span",{className:"text-blue-300",children:"‚òÇÔ∏è"})]})]},s)))}),g.jsx("button",{onClick:()=>{a.current&&a.current.scrollBy({left:200,behavior:"smooth"})},className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-gray-800/80 hover:bg-gray-700/80 text-white rounded-full p-1",children:g.jsx(N,{size:20})})]})]})})},Q=({data:e})=>{const t=(e=>{const t={};return e.forEach((e=>{const s=e.dt_txt.split(" ")[0];t[s]||(t[s]=[]),t[s].push(e)})),Object.keys(t).map((e=>{const s=t[e],a=s.map((e=>e.main.temp)),r=Math.max(...a),i=Math.min(...a),l=s.find((e=>e.dt_txt.includes("12:00:00")))||s[0];return{date:e,dt:l.dt,maxTemp:r,minTemp:i,weather:l.weather[0]}})).slice(0,5)})(e.list);return g.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"w-full bg-gray-900/40 backdrop-blur-md rounded-xl overflow-hidden border border-white/10 shadow-xl mt-6",children:g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"5-Day Forecast"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:t.map(((t,a)=>g.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},className:"bg-white/5 rounded-lg p-4 flex flex-col items-center",children:[g.jsx("p",{className:"text-sm font-medium text-blue-200",children:Z(t.dt,e.city.timezone)}),g.jsx("p",{className:"text-xs text-gray-400",children:B(t.dt,e.city.timezone)}),g.jsx("img",{src:`https://openweathermap.org/img/wn/${t.weather.icon}.png`,alt:t.weather.description,className:"w-14 h-14 my-2"}),g.jsxs("div",{className:"flex justify-between w-full mt-1",children:[g.jsx("p",{className:"text-sm font-medium text-white",children:T(t.maxTemp)}),g.jsx("p",{className:"text-sm font-medium text-gray-400",children:T(t.minTemp)})]}),g.jsx("p",{className:"text-xs text-center text-gray-300 mt-1",children:t.weather.description})]},a)))})]})})},ee=({data:e})=>{const t=(e=>{const t=[],s=e.main.temp;return s>30?t.push("ü•µ Extreme heat - stay hydrated and avoid direct sun."):s>25?t.push("üå°Ô∏è Hot weather - consider light clothing and sun protection."):s<0?t.push("‚ùÑÔ∏è Freezing temperatures - dress warmly in layers."):s<10?t.push("üß£ Cold weather - a jacket is recommended."):t.push("üå§Ô∏è Comfortable temperature for outdoor activities."),e.rain&&e.rain["1h"]>0&&t.push("‚òî Rain expected - carry an umbrella."),e.snow&&e.snow["1h"]>0&&t.push("üå®Ô∏è Snow expected - be careful on roads and walkways."),e.wind.speed>10&&t.push("üí® Strong winds - secure loose items outdoors."),e.main.humidity>80?t.push("üíß High humidity - may feel warmer than actual temperature."):e.main.humidity<30&&t.push("üèúÔ∏è Low humidity - stay hydrated."),e.visibility<1e3&&t.push("üå´Ô∏è Poor visibility - drive carefully."),t})(e);return g.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full bg-gray-900/40 backdrop-blur-md rounded-xl overflow-hidden border border-white/10 shadow-xl mt-6",children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(b,{className:"text-yellow-400 mr-2",size:20}),g.jsx("h3",{className:"text-xl font-semibold text-white",children:"Life Index"})]}),g.jsx("div",{className:"space-y-3",children:t.map(((e,t)=>g.jsx(s.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*t},className:"bg-white/5 p-3 rounded-lg",children:g.jsx("p",{className:"text-white",children:e})},t)))})]})})},te=({city:e,isDay:t})=>g.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center",children:[t?g.jsx(_,{className:"text-yellow-400 mr-2",size:28}):g.jsx(L,{className:"text-blue-200 mr-2",size:28}),g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"WeatherVerse"})]}),e&&g.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},className:"text-right",children:g.jsx("p",{className:"text-sm text-gray-300",children:(new Date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]});function se(){const[t,i]=e.useState(""),[l,o]=e.useState(null),[n,c]=e.useState(null),[d,m]=e.useState(!1),[h,p]=e.useState(null),[x,y]=e.useState("https://images.pexels.com/photos/1118873/pexels-photo-1118873.jpeg"),[u,f]=e.useState(!0),[j,w]=e.useState([]);e.useEffect((()=>{w(G())}),[]);const v=async e=>{m(!0),p(null);try{const t=await(async e=>{try{return(await r.get(`${I}/weather`,{params:{q:e,appid:H,units:"metric"}})).data}catch(h){return R(h)}})(e);o(t);const s=Math.floor(Date.now()/1e3),a=J(s,t.sys.sunrise,t.sys.sunset);f(a);const l=q(t.weather[0].main,a);y(l);const n=await(async e=>{try{return(await r.get(`${I}/forecast`,{params:{q:e,appid:H,units:"metric"}})).data}catch(h){return R(h)}})(e);c(n),i(e),U(e)}catch(t){console.error("Error fetching data:",t),p("Failed to fetch weather data. Please check the city name and try again.")}finally{m(!1)}},N=async(e,t)=>{m(!0),p(null);try{const s=await(async(e,t)=>{try{return(await r.get(`${I}/weather`,{params:{lat:e,lon:t,appid:H,units:"metric"}})).data}catch(h){return R(h)}})(e,t);o(s);const a=Math.floor(Date.now()/1e3),l=J(a,s.sys.sunrise,s.sys.sunset);f(l);const n=q(s.weather[0].main,l);y(n);const d=await(async(e,t)=>{try{return(await r.get(`${I}/forecast`,{params:{lat:e,lon:t,appid:H,units:"metric"}})).data}catch(h){return R(h)}})(e,t);c(d),i(s.name),U(s.name)}catch(s){console.error("Error fetching data:",s),p("Failed to fetch weather data for your location. Defaulting to London."),v("London")}finally{m(!1)}};return e.useEffect((()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{N(e.coords.latitude,e.coords.longitude)}),(e=>{console.error("Geolocation error:",e),v("London")})):v("London")}),[]),g.jsx("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat transition-all duration-1000 ease-in-out",style:{backgroundImage:`url(${x})`},children:g.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black/50 to-black/70 backdrop-blur-sm",children:g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx(te,{city:t,isDay:u}),g.jsx(K,{onSearch:e=>{v(e)},onToggleFavorite:e=>{j.includes(e)?((e=>{const t=G().filter((t=>t!==e));localStorage.setItem("favorites",JSON.stringify(t))})(e),w(G())):((e=>{const t=G();if(!t.includes(e)){const s=[...t,e];localStorage.setItem("favorites",JSON.stringify(s))}})(e),w(G()))},currentCity:t,isFavorite:j.includes(t)}),g.jsx(a,{children:d&&g.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center mt-10",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}),g.jsx(a,{children:h&&g.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-6 bg-red-500/20 border border-red-500/50 rounded-lg p-4 flex items-start",children:[g.jsx(b,{className:"text-red-500 mr-2 flex-shrink-0 mt-0.5",size:18}),g.jsx("p",{className:"text-white",children:h})]})}),!d&&!h&&l&&n&&g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsx(X,{data:l}),g.jsx(Y,{data:n}),g.jsx(Q,{data:n}),g.jsx(ee,{data:l}),g.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-xs text-gray-400 mt-8 pb-4",children:g.jsx("p",{children:"Data provided by OpenWeatherMap"})})]}),!l&&!d&&!h&&g.jsxs("div",{className:"flex flex-col items-center justify-center mt-20",children:[g.jsx(z,{className:"text-white/50",size:64}),g.jsx("p",{className:"text-white/70 mt-4 text-xl",children:"Search for a city to get weather information"})]})]})})})}u(document.getElementById("root")).render(g.jsx(e.StrictMode,{children:g.jsx(se,{})}));
